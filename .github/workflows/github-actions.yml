name: Docker Image
run-name: ${{ github.actor }} is testing out GitHub Actions ğŸš€
on: [push]
env:
  source_image: demisto/jq:1.0.0.117497
  dest_image: demisto-jq:1.0.0.117497
  namespace: rancher_zhao
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - name: List files in the repository
        run: |
          # docker rmi `docker images -qa` && \
          echo $source_image $dest_image && \
          #docker images -qa |xargs docker rmi -f && \
          #docker images
          docker pull $source_image && \
          docker login --username=zhao513929178 registry.cn-beijing.aliyuncs.com -p zsc147258 && \
          docker tag $source_image    registry.cn-beijing.aliyuncs.com/$namespace/$dest_image  && \
          docker push registry.cn-beijing.aliyuncs.com/$namespace/$dest_image
      #- name: Get latest code
      #  uses: actions/checkout@v3 # æ‹‰å–é¡¹ç›®ä»£ç 
      #- name: Setup node
      #  uses: actions/setup-node@v3 # å®‰è£…node
      #  with:
      #    node-version: 18
      #    registry-url: https://registry.npmjs.com/
      #- name: install package
      #  run: npm i # å®‰è£…é¡¹ç›®ä¾èµ–
      #- name: build
      #  run: npm run build # ç¼–è¯‘
      #- name: pack
      #  run: zip -q -r dist.zip ./dist # æ‰“åŒ…æˆzip
      #- name: Sync files
      #  uses: SamKirkland/FTP-Deploy-Action@v4.3.4 # ä¸Šä¼ åˆ°ftpæœåŠ¡å™¨
      #  with:
      #    server: 10.52.0.x # æœåŠ¡å™¨åœ°å€
      #    username: testusername # æœåŠ¡å™¨ç”¨æˆ·å
      #    password: ${{ secrets.ftp_password }} # æœåŠ¡å™¨å¯†ç 
